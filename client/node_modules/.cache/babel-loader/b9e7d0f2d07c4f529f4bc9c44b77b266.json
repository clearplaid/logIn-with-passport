{"ast":null,"code":"var _jsxFileName = \"/home/scott/Desktop/login/client/src/components/LogIn/login.js\";\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport API from \"../../utils/API\";\nimport \"./login.css\";\nimport Axios from 'axios';\n\nclass LogIn extends Component {\n  constructor() {\n    super();\n\n    this.handleChange = event => {\n      this.setState({\n        [event.target.name]: event.target.value\n      });\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      console.log('handleSubmit');\n      const user = {\n        username: this.state.username,\n        password: this.state.password\n      };\n      Axios.post('user/login', {\n        user: user\n      }).then(response => {\n        console.log('login response: ');\n        console.log(response);\n\n        if (response.status === 200) {\n          // update App.js state\n          this.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          }); // update the state to redirect to user profile\n\n          this.setState({\n            redirectTo: '/profile/' + this.state.username\n          });\n        }\n      }).catch(error => {\n        console.log('login error: ');\n        console.log(error);\n      });\n    };\n\n    this.state = {\n      username: '',\n      password: '',\n      redirectTo: ''\n    };\n  }\n\n  render() {\n    if (this.state.redirectTo) {\n      return React.createElement(Redirect, {\n        to: {\n          pathname: this.state.redirectTo\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        className: \"loginTitle\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Login\"), React.createElement(\"form\", {\n        className: \"form-horizontal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 col-mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-input\",\n        type: \"text\",\n        id: \"username\",\n        name: \"username\",\n        placeholder: \"Username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-3 col-mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"form-input\",\n        placeholder: \"password\",\n        type: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"form-group \",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-7 col-mr-auto\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn col-3 col-mr-auto\",\n        onClick: this.handleSubmit,\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Login\")))));\n    }\n  }\n\n}\n\nexport default LogIn;","map":{"version":3,"sources":["/home/scott/Desktop/login/client/src/components/LogIn/login.js"],"names":["React","Component","Redirect","API","Axios","LogIn","constructor","handleChange","event","setState","target","name","value","handleSubmit","preventDefault","console","log","user","username","state","password","post","then","response","status","props","updateUser","loggedIn","data","redirectTo","catch","error","render","pathname"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAO,aAAP;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,KAAN,SAAoBJ,SAApB,CAA8B;AAC5BK,EAAAA,WAAW,GAAG;AACZ;;AADY,SAUdC,YAVc,GAUCC,KAAK,IAAI;AACtB,WAAKC,QAAL,CAAc;AACZ,SAACD,KAAK,CAACE,MAAN,CAAaC,IAAd,GAAqBH,KAAK,CAACE,MAAN,CAAaE;AADtB,OAAd;AAGD,KAda;;AAAA,SAgBdC,YAhBc,GAgBCL,KAAK,IAAI;AACtBA,MAAAA,KAAK,CAACM,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ;AAEA,YAAMC,IAAI,GAAG;AACXC,QAAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWD,QADV;AAEXE,QAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC;AAFV,OAAb;AAKAhB,MAAAA,KAAK,CAACiB,IAAN,CAAW,YAAX,EAAyB;AACvBJ,QAAAA,IAAI,EAAEA;AADiB,OAAzB,EAGGK,IAHH,CAGQC,QAAQ,IAAI;AAChBR,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;;AACA,YAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AAC3B;AACA,eAAKC,KAAL,CAAWC,UAAX,CAAsB;AACpBC,YAAAA,QAAQ,EAAE,IADU;AAEpBT,YAAAA,QAAQ,EAAEK,QAAQ,CAACK,IAAT,CAAcV;AAFJ,WAAtB,EAF2B,CAM3B;;AACA,eAAKT,QAAL,CAAc;AACZoB,YAAAA,UAAU,EAAE,cAAc,KAAKV,KAAL,CAAWD;AADzB,WAAd;AAGD;AACF,OAjBH,EAiBKY,KAjBL,CAiBWC,KAAK,IAAI;AAChBhB,QAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAYe,KAAZ;AAED,OArBH;AAsBD,KA/Ca;;AAGZ,SAAKZ,KAAL,GAAa;AACXD,MAAAA,QAAQ,EAAE,EADC;AAEXE,MAAAA,QAAQ,EAAE,EAFC;AAGXS,MAAAA,UAAU,EAAE;AAHD,KAAb;AAKD;;AAyCDG,EAAAA,MAAM,GAAG;AACP,QAAI,KAAKb,KAAL,CAAWU,UAAf,EAA2B;AACzB,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAEI,UAAAA,QAAQ,EAAE,KAAKd,KAAL,CAAWU;AAAvB,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD,KAFD,MAEO;AACL,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF,EAEE;AAAM,QAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,YAAjB;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,EAAE,EAAC,UAFL;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,WAAW,EAAC,UAJd;AAKE,QAAA,KAAK,EAAE,KAAKV,KAAL,CAAWD,QALpB;AAME,QAAA,QAAQ,EAAE,KAAKX,YANjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CADF,EAaE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,SAAS,EAAC,YAAjB;AACE,QAAA,WAAW,EAAC,UADd;AAEE,QAAA,IAAI,EAAC,UAFP;AAGE,QAAA,IAAI,EAAC,UAHP;AAIE,QAAA,KAAK,EAAE,KAAKY,KAAL,CAAWC,QAJpB;AAKE,QAAA,QAAQ,EAAE,KAAKb,YALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CAbF,EAwBE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACA;AACE,QAAA,SAAS,EAAC,uBADZ;AAEE,QAAA,OAAO,EAAE,KAAKM,YAFhB;AAGI,QAAA,IAAI,EAAC,QAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADA,CADF,CAxBF,CAFF,CADF;AAsCD;AACF;;AA7F2B;;AA+F9B,eAAeR,KAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport API from \"../../utils/API\";\nimport \"./login.css\";\nimport Axios from 'axios';\n\nclass LogIn extends Component {\n  constructor() {\n    super()\n    \n    this.state = {\n      username: '',\n      password: '',\n      redirectTo: ''\n    }\n  }\n\n  handleChange = event => {\n    this.setState({\n      [event.target.name]: event.target.value\n    })\n  }\n\n  handleSubmit = event => {\n    event.preventDefault()\n    console.log('handleSubmit')\n\n    const user = {\n      username: this.state.username,\n      password: this.state.password\n    }\n\n    Axios.post('user/login', {\n      user: user\n    })\n      .then(response => {\n        console.log('login response: ')\n        console.log(response)\n        if (response.status === 200) {\n          // update App.js state\n          this.props.updateUser({\n            loggedIn: true,\n            username: response.data.username\n          })\n          // update the state to redirect to user profile\n          this.setState({\n            redirectTo: '/profile/' + this.state.username\n          })\n        }\n      }).catch(error => {\n        console.log('login error: ')\n        console.log(error);\n        \n      })\n  }\n  \n  render() {\n    if (this.state.redirectTo) {\n      return <Redirect to={{ pathname: this.state.redirectTo }} />\n    } else {\n      return (\n        <div>\n          <h3 className=\"loginTitle\">Login</h3>\n          <form className=\"form-horizontal\">\n            <div className=\"form-group\">\n              <div className=\"col-3 col-mr-auto\">\n                <input className=\"form-input\"\n                  type=\"text\"\n                  id=\"username\"\n                  name=\"username\"\n                  placeholder=\"Username\"\n                  value={this.state.username}\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n            <div className=\"form-group\">\n              <div className=\"col-3 col-mr-auto\">\n                <input className=\"form-input\"\n                  placeholder=\"password\"\n                  type=\"password\"\n                  name=\"password\"\n                  value={this.state.password}\n                  onChange={this.handleChange}\n                />\n              </div>\n            </div>\n            <div className=\"form-group \">\n              <div className=\"col-7 col-mr-auto\">\n              <button\n                className=\"btn col-3 col-mr-auto\"\n                onClick={this.handleSubmit}\n                  type=\"submit\">Login</button>\n                </div>\n            </div>\n          </form>\n        </div>\n      )\n    }\n  }\n}\nexport default LogIn;"]},"metadata":{},"sourceType":"module"}